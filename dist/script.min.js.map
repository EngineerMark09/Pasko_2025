{"version":3,"sources":["script.js"],"names":["initParticles","document","getElementById","particlesContainer","getParticleCount","i","particleCount","createParticle","innerWidth","width","window","container","index","particle","createElement","size","Math","random","left","delay","duration","drift","concat","hue","saturation","background","style","animation","appendChild","landing","messageSection","backBtn","revealBtn","addEventListener","classList","resetTextAnimations","add","scrollTo","top","behavior","remove","setTimeout","addFadeOutKeyframes","textContent","head","signature","querySelectorAll","forEach","el","animationDelay","querySelector","offsetHeight","initBackgroundMusic","music","volume","play","err","console","log","playOnInteraction","removeEventListener","timeout","wait","_len","arguments","length","args","Array","_key","clearTimeout","func","apply","debounce","initRevealInteraction","targetCount","children","abs","currentCount","innerHTML","activateEasterEgg","konamiIndex","_loop","className","cssText","e","key","konamiCode"],"mappings":"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","file":"script.min.js","sourcesContent":["/**\r\n * ============================================\r\n * PINOY PASKO - Digital Christmas Card\r\n * Interactive JavaScript functionality\r\n * ============================================\r\n */\r\n\r\n// Wait for DOM to be fully loaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    // Initialize all components\r\n    initParticles();\r\n    initRevealInteraction();\r\n    initBackgroundMusic();\r\n});\r\n\r\n/**\r\n * ---------- Floating Light Particles ----------\r\n * Creates subtle floating light particles inspired by parol lights\r\n */\r\nfunction initParticles() {\r\n    const particlesContainer = document.getElementById('particles');\r\n    const particleCount = getParticleCount();\r\n    \r\n    // Create particles with staggered animations\r\n    for (let i = 0; i < particleCount; i++) {\r\n        createParticle(particlesContainer, i);\r\n    }\r\n}\r\n\r\n/**\r\n * Determines particle count based on screen size\r\n * Fewer particles on mobile for performance\r\n */\r\nfunction getParticleCount() {\r\n    const width = window.innerWidth;\r\n    if (width < 480) return 8;\r\n    if (width < 768) return 12;\r\n    return 18;\r\n}\r\n\r\n/**\r\n * Creates a single floating particle element\r\n * @param {HTMLElement} container - Parent container\r\n * @param {number} index - Particle index for staggering\r\n */\r\nfunction createParticle(container, index) {\r\n    const particle = document.createElement('div');\r\n    particle.className = 'particle';\r\n    \r\n    // Randomize particle properties\r\n    const size = Math.random() * 3 + 2; // 2-5px\r\n    const left = Math.random() * 100; // 0-100%\r\n    const delay = Math.random() * 15; // 0-15s delay\r\n    const duration = Math.random() * 10 + 12; // 12-22s duration\r\n    const drift = (Math.random() - 0.5) * 100; // Horizontal drift\r\n    \r\n    // Apply styles\r\n    particle.style.cssText = `\r\n        width: ${size}px;\r\n        height: ${size}px;\r\n        left: ${left}%;\r\n        animation-delay: ${delay}s;\r\n        animation-duration: ${duration}s;\r\n        --drift: ${drift}px;\r\n    `;\r\n    \r\n    // Add slight color variation (yellow to gold)\r\n    const hue = Math.random() * 20 + 40; // 40-60 (yellow range)\r\n    const saturation = Math.random() * 30 + 70; // 70-100%\r\n    particle.style.background = `hsl(${hue}, ${saturation}%, 55%)`;\r\n    \r\n    // Enhanced floating animation with horizontal drift\r\n    particle.style.animation = `float-up ${duration}s infinite linear`;\r\n    \r\n    container.appendChild(particle);\r\n}\r\n\r\n/**\r\n * ---------- Message Reveal Interaction ----------\r\n * Handles the \"Buksan ang Mensahe\" button click\r\n */\r\nfunction initRevealInteraction() {\r\n    const revealBtn = document.getElementById('revealBtn');\r\n    const landing = document.getElementById('landing');\r\n    const messageSection = document.getElementById('messageSection');\r\n    const backBtn = document.getElementById('backBtn');\r\n    \r\n    // Reveal message on button click\r\n    revealBtn.addEventListener('click', () => {\r\n        // Fade out landing\r\n        landing.style.animation = 'fade-out 0.5s ease-out forwards';\r\n        \r\n        // After landing fades out, show message\r\n        setTimeout(() => {\r\n            landing.classList.add('hidden');\r\n            messageSection.classList.add('active');\r\n            \r\n            // Reset text animations for fresh reveal\r\n            resetTextAnimations();\r\n            \r\n            // Scroll to top smoothly\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        }, 500);\r\n    });\r\n    \r\n    // Back button to return to landing\r\n    backBtn.addEventListener('click', () => {\r\n        // Fade out message section\r\n        messageSection.style.animation = 'fade-out 0.4s ease-out forwards';\r\n        \r\n        setTimeout(() => {\r\n            messageSection.classList.remove('active');\r\n            messageSection.style.animation = '';\r\n            landing.classList.remove('hidden');\r\n            landing.style.animation = 'fade-in 0.6s ease-out forwards';\r\n        }, 400);\r\n    });\r\n    \r\n    // Add fade-out keyframes dynamically\r\n    addFadeOutKeyframes();\r\n}\r\n\r\n/**\r\n * Adds the fade-out animation keyframes to the document\r\n */\r\nfunction addFadeOutKeyframes() {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        @keyframes fade-out {\r\n            from {\r\n                opacity: 1;\r\n                transform: translateY(0);\r\n            }\r\n            to {\r\n                opacity: 0;\r\n                transform: translateY(-20px);\r\n            }\r\n        }\r\n    `;\r\n    document.head.appendChild(style);\r\n}\r\n\r\n/**\r\n * Resets text fade-in animations for fresh reveal\r\n */\r\nfunction resetTextAnimations() {\r\n    const textElements = document.querySelectorAll('.fade-in-text');\r\n    textElements.forEach((el, index) => {\r\n        // Reset animation\r\n        el.style.animation = 'none';\r\n        el.offsetHeight; // Trigger reflow\r\n        el.style.animation = `text-fade-in 0.6s ease-out forwards`;\r\n        el.style.animationDelay = `${0.2 + (index * 0.2)}s`;\r\n    });\r\n    \r\n    // Reset signature animation\r\n    const signature = document.querySelector('.signature');\r\n    if (signature) {\r\n        signature.style.animation = 'none';\r\n        signature.offsetHeight;\r\n        signature.style.animation = 'signature-reveal 0.6s ease-out 1.5s forwards';\r\n    }\r\n    \r\n    // Reset back button animation\r\n    const backBtn = document.querySelector('.back-btn');\r\n    if (backBtn) {\r\n        backBtn.style.animation = 'none';\r\n        backBtn.offsetHeight;\r\n        backBtn.style.animation = 'fade-in 0.5s ease-out 2s forwards';\r\n    }\r\n}\r\n\r\n/**\r\n * ---------- Background Music ----------\r\n * Plays Bibingka by Ben&Ben as subtle background music\r\n */\r\nfunction initBackgroundMusic() {\r\n    const music = document.getElementById('bgMusic');\r\n    \r\n    // Set volume to 33% for subtle background feel\r\n    music.volume = 0.33;\r\n    \r\n    // Try to play immediately on page load\r\n    music.play().catch(err => {\r\n        // If autoplay is blocked, play on first user interaction\r\n        console.log('Autoplay blocked, waiting for user interaction');\r\n        \r\n        const playOnInteraction = () => {\r\n            music.play();\r\n            document.removeEventListener('click', playOnInteraction);\r\n            document.removeEventListener('touchstart', playOnInteraction);\r\n        };\r\n        \r\n        document.addEventListener('click', playOnInteraction);\r\n        document.addEventListener('touchstart', playOnInteraction);\r\n    });\r\n}\r\n\r\n/**\r\n * ---------- Utility: Debounce Function ----------\r\n * Limits how often a function can be called\r\n * @param {Function} func - Function to debounce\r\n * @param {number} wait - Wait time in ms\r\n */\r\nfunction debounce(func, wait) {\r\n    let timeout;\r\n    return function executedFunction(...args) {\r\n        const later = () => {\r\n            clearTimeout(timeout);\r\n            func(...args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n    };\r\n}\r\n\r\n/**\r\n * Handle window resize - adjust particle count\r\n */\r\nwindow.addEventListener('resize', debounce(() => {\r\n    const particlesContainer = document.getElementById('particles');\r\n    const currentCount = particlesContainer.children.length;\r\n    const targetCount = getParticleCount();\r\n    \r\n    // Only adjust if significant difference\r\n    if (Math.abs(currentCount - targetCount) > 5) {\r\n        particlesContainer.innerHTML = '';\r\n        for (let i = 0; i < targetCount; i++) {\r\n            createParticle(particlesContainer, i);\r\n        }\r\n    }\r\n}, 500));\r\n\r\n/**\r\n * ---------- Easter Egg: Konami Code ----------\r\n * A little surprise for those who discover it\r\n */\r\nconst konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', \r\n                   'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', \r\n                   'b', 'a'];\r\nlet konamiIndex = 0;\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n    if (e.key === konamiCode[konamiIndex]) {\r\n        konamiIndex++;\r\n        if (konamiIndex === konamiCode.length) {\r\n            activateEasterEgg();\r\n            konamiIndex = 0;\r\n        }\r\n    } else {\r\n        konamiIndex = 0;\r\n    }\r\n});\r\n\r\nfunction activateEasterEgg() {\r\n    // Burst of extra particles\r\n    const container = document.getElementById('particles');\r\n    for (let i = 0; i < 30; i++) {\r\n        const particle = document.createElement('div');\r\n        particle.className = 'particle';\r\n        particle.style.cssText = `\r\n            left: ${Math.random() * 100}%;\r\n            bottom: 0;\r\n            animation: burst-up 3s ease-out forwards;\r\n            background: hsl(${Math.random() * 60 + 20}, 80%, 60%);\r\n        `;\r\n        container.appendChild(particle);\r\n        \r\n        // Remove after animation\r\n        setTimeout(() => particle.remove(), 3000);\r\n    }\r\n    \r\n    // Add burst animation\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        @keyframes burst-up {\r\n            0% {\r\n                opacity: 1;\r\n                transform: translateY(0) scale(1);\r\n            }\r\n            100% {\r\n                opacity: 0;\r\n                transform: translateY(-100vh) scale(0);\r\n            }\r\n        }\r\n    `;\r\n    document.head.appendChild(style);\r\n}\r\n\r\n// Log a warm greeting in console for developers\r\nconsole.log('%cðŸŽ„ Maligayang Pasko! ðŸŽ„', \r\n    'color: #e8b923; font-size: 20px; font-weight: bold;');\r\nconsole.log('%cMay your code compile and your bugs be few.', \r\n    'color: #d4a373; font-style: italic;');\r\n"]}